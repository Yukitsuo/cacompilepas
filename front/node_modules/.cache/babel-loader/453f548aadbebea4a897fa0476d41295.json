{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/client/src/View/General/Nav.tsx\";\nimport React from 'react';\nimport SearchBar from './SearchBar';\nimport '../../css/Nav.css';\nimport Svg from '../Assets/Svg';\nimport Request from \"../../API/Request\";\n\nclass Nav extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      status: '',\n      token: '',\n      tokenExists: false\n    };\n    this.setState = this.setState.bind(this);\n    this.checkIfAlreadyConnected = this.checkIfAlreadyConnected.bind(this);\n  }\n\n  checkIfAlreadyConnected(data) {\n    this.setState({\n      tokenExists: data['token_exists']\n    });\n\n    if (false === this.state.tokenExists) {\n      localStorage.setItem('token', '');\n    }\n  } // Check if token is still valid\n\n\n  componentDidMount() {\n    if (undefined !== localStorage.getItem('token') && '' !== localStorage.getItem('token')) {\n      new Request('/connection/verification', this.checkIfAlreadyConnected);\n    }\n  }\n\n  render() {\n    if (this.state) return React.createElement(\"nav\", {\n      className: \"row mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-2 col-sm-4 mr-lg-0 mr-sm-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/\",\n      className: \"col-lg-1 col-sm-2 pl-lg-0 pl-md-0 pl-sm-0 pf-sm-0 mr-lg-5 mr-sm-0 pr-sm-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Svg, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    })), React.createElement(\"a\", {\n      id: \"home-link\",\n      href: \"/\",\n      className: \"mt-1 col-lg-1 col-sm-2 pl-lg-1 pl-sm-2 ml-lg-0 mt-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"caCompilePas\")), React.createElement(SearchBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      id: \"user\",\n      href: \"/connexion/login\",\n      className: \"col-lg-1 col-sm-2 mt-lg-1 mt-md-1 mt-sm-3 pr-lg-5 pr-sm-1 pl-lg-0 pl-sm-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, (() => {\n      if (this.state.status === 'connected') {\n        console.log(this.state.status);\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, \"Connect\\xE9 !!\");\n      }\n    })())));\n  }\n\n}\n\nexport default Nav;","map":{"version":3,"sources":["/usr/src/app/client/src/View/General/Nav.tsx"],"names":["React","SearchBar","Svg","Request","Nav","Component","constructor","props","state","status","token","tokenExists","setState","bind","checkIfAlreadyConnected","data","localStorage","setItem","componentDidMount","undefined","getItem","render","console","log"],"mappings":";AAAA,OAAOA,KAAP,MAA+B,OAA/B;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAO,mBAAP;AACA,OAAOC,GAAP,MAAgB,eAAhB;AAEA,OAAOC,OAAP,MAAoB,mBAApB;;AAUA,MAAMC,GAAN,SAAkBJ,KAAK,CAACK,SAAxB,CAAwD;AACpDC,EAAAA,WAAW,CAACC,KAAD,EAAa;AACpB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE,EADC;AAETC,MAAAA,KAAK,EAAE,EAFE;AAGTC,MAAAA,WAAW,EAAE;AAHJ,KAAb;AAMA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,uBAAL,GAA+B,KAAKA,uBAAL,CAA6BD,IAA7B,CAAkC,IAAlC,CAA/B;AACH;;AAEMC,EAAAA,uBAAP,CAA+BC,IAA/B,EAAgD;AAC5C,SAAKH,QAAL,CAAc;AAACD,MAAAA,WAAW,EAAEI,IAAI,CAAC,cAAD;AAAlB,KAAd;;AACA,QAAI,UAAU,KAAKP,KAAL,CAAWG,WAAzB,EAAsC;AAClCK,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8B,EAA9B;AACH;AACJ,GAlBmD,CAoBxD;;;AACWC,EAAAA,iBAAP,GAAiC;AAC7B,QAAIC,SAAS,KAAKH,YAAY,CAACI,OAAb,CAAqB,OAArB,CAAd,IAA+C,OAAOJ,YAAY,CAACI,OAAb,CAAqB,OAArB,CAA1D,EAAyF;AACrF,UAAIjB,OAAJ,CACI,0BADJ,EAEI,KAAKW,uBAFT;AAIH;AACJ;;AAEMO,EAAAA,MAAP,GAA2B;AACvB,QAAI,KAAKb,KAAT,EACA,OACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,2EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAII;AAAG,MAAA,EAAE,EAAC,WAAN;AAAkB,MAAA,IAAI,EAAC,GAAvB;AACG,MAAA,SAAS,EAAC,wDADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJJ,CADJ,EASI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATJ,EAUI;AAAG,MAAA,EAAE,EAAC,MAAN;AAAa,MAAA,IAAI,EAAC,kBAAlB;AACG,MAAA,SAAS,EAAC,2EADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI;AACI,MAAA,SAAS,EAAE,0BADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAII;AAAK,MAAA,SAAS,EAAE,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,CAAC,MAAM;AAEJ,UAAI,KAAKA,KAAL,CAAWC,MAAX,KAAsB,WAA1B,EAAuC;AACnCa,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKf,KAAL,CAAWC,MAAvB;AACI,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAP;AAGP;AACJ,KARA,GADL,CAJJ,CAVJ,CADJ;AA8BH;;AA9DmD;;AAmExD,eAAeL,GAAf","sourcesContent":["import React, {ReactNode} from 'react';\nimport SearchBar from './SearchBar';\nimport '../../css/Nav.css';\nimport Svg from '../Assets/Svg';\nimport Connection from '../Connection/Connection';\nimport Request from \"../../API/Request\";\n\ninterface ConnectionStates {\n    // Pending (''), connected ('true') or not connected ('false')\n    status: string,\n    token: string,\n    tokenExists: boolean,\n}\n\n\nclass Nav extends React.Component<{}, ConnectionStates> {\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            status: '',\n            token: '',\n            tokenExists: false,\n        }\n\n        this.setState = this.setState.bind(this);\n        this.checkIfAlreadyConnected = this.checkIfAlreadyConnected.bind(this);\n    }\n\n    public checkIfAlreadyConnected(data: any): void {\n        this.setState({tokenExists: data['token_exists']});\n        if (false === this.state.tokenExists) {\n            localStorage.setItem('token', '');\n        }\n    }\n\n// Check if token is still valid\n    public componentDidMount(): void {\n        if (undefined !== localStorage.getItem('token') && '' !== localStorage.getItem('token')) {\n            new Request(\n                '/connection/verification',\n                this.checkIfAlreadyConnected,\n            );\n        }\n    }\n\n    public render(): ReactNode {\n        if (this.state)\n        return (\n            <nav className=\"row mt-3\">\n                <div className=\"col-lg-2 col-sm-4 mr-lg-0 mr-sm-0\">\n                    <a href='/' className='col-lg-1 col-sm-2 pl-lg-0 pl-md-0 pl-sm-0 pf-sm-0 mr-lg-5 mr-sm-0 pr-sm-0'>\n                        <Svg/>\n                    </a>\n                    <a id=\"home-link\" href='/'\n                       className=\"mt-1 col-lg-1 col-sm-2 pl-lg-1 pl-sm-2 ml-lg-0 mt-lg-3\">caCompilePas</a>\n                </div>\n\n                <SearchBar/>\n                <a id=\"user\" href=\"/connexion/login\"\n                   className=\"col-lg-1 col-sm-2 mt-lg-1 mt-md-1 mt-sm-3 pr-lg-5 pr-sm-1 pl-lg-0 pl-sm-0\">\n                    <span\n                        className={\"glyphicon glyphicon-user\"}></span>\n                    <div className={\"row\"}>\n                        {(() => {\n\n                            if (this.state.status === 'connected') {\n                                console.log(this.state.status);\n                                    return <div>\n                                        Connect√© !!\n                                    </div>;\n                            }\n                        })()}\n                    </div>\n                </a>\n            </nav>\n\n        )\n    }\n\n}\n\n\nexport default Nav;\n"]},"metadata":{},"sourceType":"module"}