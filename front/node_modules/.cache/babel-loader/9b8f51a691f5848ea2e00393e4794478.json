{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/client/src/View/Admin/Admin.tsx\";\nimport React from 'react';\nimport Request from '../../API/Request';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { ReactComponent as Loader } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../img/loader.svg\";\nimport plusIcon from '../../img/plus-icon.png';\nimport Input from '../General/Input';\nimport InputArea from '../General/InputArea';\nimport DropBox from '../General/DropBox';\nimport '../../css/Admin.css';\nimport CourseSheets from '../Lobby/CourseSheets';\nimport Users from './Users';\n\nclass Admin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: this.props.location.pathname.split(/\\//)[2],\n      isAdmin: '',\n      currentTab: 'presentation',\n      currentLabel: '',\n      currentDescription: '',\n      currentLogo: null,\n      newLabel: '',\n      newDescription: '',\n      newLogo: null,\n      courseSheets: [],\n      newCourseSheetTitle: '',\n      newCourseSheetDescription: '',\n      newCourseSheetDocument: null,\n      users: [],\n      newUserEmail: ''\n    };\n    this.init = this.init.bind(this);\n    this.init();\n  }\n\n  init() {\n    this.checkIfAdmin = this.checkIfAdmin.bind(this);\n    this.handleLabelChange = this.handleLabelChange.bind(this);\n    this.handleDescriptionChange = this.handleDescriptionChange.bind(this);\n    this.handleLogoDrop = this.handleLogoDrop.bind(this);\n    this.handleLogoChange = this.handleLogoChange.bind(this);\n    this.updateLobbby = this.updateLobbby.bind(this);\n    this.update = this.update.bind(this);\n    this.navigateToCourseSheets = this.navigateToCourseSheets.bind(this);\n    this.fillCourseSheets = this.fillCourseSheets.bind(this);\n    this.removeCourseSheetFromLobby = this.removeCourseSheetFromLobby.bind(this);\n    this.removeUserFromLobby = this.removeUserFromLobby.bind(this);\n    this.fetchCourseSheets = this.fetchCourseSheets.bind(this);\n    this.fetchUsers = this.fetchUsers.bind(this);\n    this.refreshPresentation = this.refreshPresentation.bind(this);\n    this.refreshCourseSheets = this.refreshCourseSheets.bind(this);\n    this.handleCourseSheetDocumentDrop = this.handleCourseSheetDocumentDrop.bind(this);\n    this.handleCourseSheetDocumentChange = this.handleCourseSheetDocumentChange.bind(this);\n    this.handleCourseSheetTitleChange = this.handleCourseSheetTitleChange.bind(this);\n    this.handleCourseSheetDescriptionChange = this.handleCourseSheetDescriptionChange.bind(this);\n    this.addCourseSheet = this.addCourseSheet.bind(this);\n    this.refreshUsers = this.refreshUsers.bind(this);\n    this.fillUsers = this.fillUsers.bind(this);\n    this.toggleWriteRights = this.toggleWriteRights.bind(this);\n    this.addUser = this.addUser.bind(this);\n    this.handleUserEmailChange = this.handleUserEmailChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshPresentation();\n    this.refreshCourseSheets();\n    this.refreshUsers();\n  }\n\n  checkIfAdmin(data) {\n    if (undefined === data['message']) {\n      this.setState({\n        isAdmin: 'true'\n      });\n      this.setState({\n        currentLabel: data[0]['label_lobby']\n      });\n      this.setState({\n        currentDescription: data[0]['description']\n      });\n    } else {\n      this.setState({\n        isAdmin: 'false'\n      });\n    }\n  }\n\n  fillCourseSheets(data) {\n    if (undefined === data['message']) {\n      this.setState({\n        courseSheets: data\n      });\n    } else {\n      this.setState({\n        courseSheets: []\n      });\n    }\n  }\n\n  fillUsers(data) {\n    if (undefined === data['message']) {\n      this.setState({\n        users: data\n      });\n    } else {\n      this.setState({\n        users: []\n      });\n    }\n  }\n\n  handleLabelChange(event) {\n    this.setState({\n      newLabel: event.target.value\n    });\n  }\n\n  handleCourseSheetTitleChange(event) {\n    this.setState({\n      newCourseSheetTitle: event.target.value\n    });\n  }\n\n  handleDescriptionChange(event) {\n    this.setState({\n      newDescription: event.target.value\n    });\n  }\n\n  handleCourseSheetDescriptionChange(event) {\n    this.setState({\n      newCourseSheetDescription: event.target.value\n    });\n  }\n\n  handleLogoDrop(event) {\n    event.preventDefault();\n    this.setState({\n      newLogo: event.dataTransfer.files[0]\n    });\n  }\n\n  handleLogoChange(event) {\n    // @ts-ignore\n    this.setState({\n      newLogo: event.target.files[0]\n    });\n  }\n\n  handleCourseSheetDocumentDrop(event) {\n    event.preventDefault();\n    this.setState({\n      newCourseSheetDocument: event.dataTransfer.files[0]\n    });\n    console.log(this.state.newCourseSheetDocument);\n  }\n\n  handleCourseSheetDocumentChange(event) {\n    // @ts-ignore\n    this.setState({\n      newCourseSheetDocument: event.target.files[0]\n    });\n    console.log(this.state.newCourseSheetDocument);\n  }\n\n  update(data) {\n    if (undefined !== data['message_label']) {\n      this.setState({\n        currentLabel: this.state.newLabel\n      });\n    }\n\n    if (undefined !== data['message_description']) {\n      this.setState({\n        currentDescription: this.state.newDescription\n      });\n    }\n\n    if (undefined !== data['message_logo']) {\n      this.setState({\n        currentLogo: this.state.newLogo\n      });\n    }\n  }\n\n  navigateToCourseSheets(event) {\n    event.preventDefault();\n    let target = event.target;\n\n    for (let li of target.parentElement.parentElement.children) {\n      li.firstElementChild.className = 'nav-link custom-tab';\n    }\n\n    target.className = target.className + ' custom-tab-active';\n    this.setState({\n      currentTab: target.attributes.href.value\n    });\n  }\n\n  updateLobbby(event) {\n    let formData = new FormData(); // @ts-ignore\n\n    formData.append('token', localStorage.getItem('token'));\n\n    if ('' !== this.state.newLabel) {\n      formData.append('label', this.state.newLabel);\n    }\n\n    if ('' !== this.state.newDescription) {\n      formData.append('description', this.state.newDescription);\n    }\n\n    if (null !== this.state.newLogo) {\n      formData.append('file', this.state.newLogo);\n      new Request('/lobby/update/' + this.state.id, 'POST', this.state.newLogo.type, formData, this.update);\n    } else {\n      new Request('/lobby/update/' + this.state.id, 'POST', '', formData, this.update);\n    }\n  }\n\n  addCourseSheet(event) {\n    let formData = new FormData(); // @ts-ignore\n\n    formData.append('token', localStorage.getItem('token'));\n    console.log(this.state.newCourseSheetTitle);\n    console.log(this.state.newCourseSheetDescription);\n    console.log(this.state.newCourseSheetDocument);\n\n    if ('' !== this.state.newCourseSheetTitle && '' !== this.state.newCourseSheetDescription && null !== this.state.newCourseSheetDocument) {\n      formData.append('title', this.state.newCourseSheetTitle);\n      formData.append('description', this.state.newCourseSheetDescription);\n      formData.append('file', this.state.newCourseSheetDocument);\n      new Request('/lobby/newCourseSheet/' + this.state.id, 'POST', this.state.newCourseSheetDocument.type, formData, this.refreshCourseSheets);\n    }\n  }\n\n  refreshPresentation() {\n    new Request('/lobby/consult/' + this.state.id, 'POST', 'json', {\n      token: localStorage.getItem('token')\n    }, this.checkIfAdmin);\n  }\n\n  refreshCourseSheets() {\n    new Request('/lobby/coursesheets/' + this.state.id, 'POST', 'json', {\n      token: localStorage.getItem('token')\n    }, this.fillCourseSheets);\n  }\n\n  refreshUsers() {\n    new Request('/lobby/users/' + this.state.id, 'POST', 'json', {\n      token: localStorage.getItem('token')\n    }, this.fillUsers);\n  }\n\n  fetchCourseSheets(data) {\n    if (data['message'].includes('successfully')) {\n      this.refreshCourseSheets();\n    }\n  }\n\n  fetchUsers(data) {\n    if (data['message'].includes('successfully')) {\n      this.refreshUsers();\n    }\n  }\n\n  removeCourseSheetFromLobby(event) {\n    let removeButton = event.target;\n    new Request('/lobby/deleteCourseSheet/' + this.state.id, 'POST', 'json', {\n      token: localStorage.getItem('token'),\n      id: removeButton.id.split(/-/)[2]\n    }, this.fetchCourseSheets);\n  }\n\n  removeUserFromLobby(event) {\n    let removeButton = event.target;\n    new Request('/lobby/removeUser/' + this.state.id, 'POST', 'json', {\n      token: localStorage.getItem('token'),\n      id: removeButton.id.split(/-/)[2]\n    }, this.fetchUsers);\n  }\n\n  toggleWriteRights(event) {\n    let action = true === event.target.checked ? 'addWriteRight/' : 'removeWriteRight/';\n    new Request('/lobby/' + action + this.state.id, 'POST', 'json', {\n      token: localStorage.getItem('token'),\n      id: event.target.id\n    }, this.fetchUsers);\n  }\n\n  addUser(event) {\n    new Request('/lobby/addUser/' + this.state.id, 'POST', 'json', {\n      token: localStorage.getItem('token'),\n      email: this.state.newUserEmail\n    }, this.refreshUsers);\n  }\n\n  handleUserEmailChange(event) {\n    this.setState({\n      newUserEmail: event.target.value\n    });\n  }\n\n  render() {\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: this.props.path,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, \"Veuillez choisir un lobby\")), React.createElement(Route, {\n      path: this.props.location.pathname,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, () => {\n      if ('true' === this.state.isAdmin) {\n        let tab;\n\n        switch (this.state.currentTab) {\n          case 'presentation':\n            tab = React.createElement(\"div\", {\n              className: 'container-fluid col-lg-8 col-md-12 col-sm-12 col-xs-12',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 302\n              },\n              __self: this\n            }, React.createElement(\"h2\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 303\n              },\n              __self: this\n            }, \"Informations visibles par les visiteurs\"), React.createElement(Input, {\n              id: 'labelInput',\n              inputType: 'text',\n              placeholder: 'Titre du lobby (n\\'en mets pas un trop long)',\n              checked: false,\n              className: 'mt-5',\n              onChange: this.handleLabelChange,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 304\n              },\n              __self: this\n            }), React.createElement(\"div\", {\n              className: 'row mt-5',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 309\n              },\n              __self: this\n            }, React.createElement(InputArea, {\n              id: 'descriptionInput',\n              placeholder: 'Nouvelle description du lobby\\nRacontes-y ce que tu veux, du moment que ça reste dans le thème de ton lobby',\n              className: 'col-lg-6 col-md-6 col-sm-6 col-xs-6',\n              textAreaClassName: '',\n              rows: 5,\n              onChange: this.handleDescriptionChange,\n              disabled: false,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 310\n              },\n              __self: this\n            }), React.createElement(InputArea, {\n              id: 'descriptionInput',\n              placeholder: 'Description actuelle du lobby\\n' + this.state.currentDescription,\n              className: 'col-lg-6 col-md-6 col-sm-6 col-xs-6',\n              textAreaClassName: '',\n              rows: 5,\n              onChange: this.handleDescriptionChange,\n              disabled: true,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 318\n              },\n              __self: this\n            })), React.createElement(DropBox, {\n              id: 'logoInput',\n              className: 'mt-4',\n              label: 'Glisse un logo par ici !',\n              accept: 'image/*',\n              backgroundClassName: 'mt-4',\n              handleFileDrop: this.handleLogoDrop,\n              handleFileChange: this.handleLogoChange,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 327\n              },\n              __self: this\n            }), React.createElement(SubmitButton, {\n              text: 'Mettre à jour le lobby',\n              onClick: this.updateLobbby,\n              className: 'mt-5',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 334\n              },\n              __self: this\n            }));\n            break;\n\n          case 'coursesheets':\n            tab = React.createElement(\"div\", {\n              className: 'container-fluid  col-lg-8 col-md-12 col-sm-12 col-xs-12',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 344\n              },\n              __self: this\n            }, React.createElement(\"h2\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 345\n              },\n              __self: this\n            }, \"Informations visibles par les visiteurs\"), React.createElement(\"div\", {\n              className: 'row mt-5',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 346\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: 'col-lg-4 col-md-4 col-sm-4 col-xs-4 pr-lg-0 pl-sm-4',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 347\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: 'centered-80',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 349\n              },\n              __self: this\n            }, React.createElement(Input, {\n              id: 'titleInput',\n              inputType: 'text',\n              placeholder: 'Titre',\n              className: 'no-mb',\n              checked: false,\n              onChange: this.handleCourseSheetTitleChange,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 350\n              },\n              __self: this\n            }), React.createElement(DropBox, {\n              id: 'courseSheetInput',\n              className: 'text-sm-left',\n              backgroundClassName: 'mt-1',\n              label: 'Glisse une fiche par ici !',\n              accept: '.docx,.pdf,.html,.htm,.odp,txt,md',\n              handleFileDrop: this.handleCourseSheetDocumentDrop,\n              handleFileChange: this.handleCourseSheetDocumentChange,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 355\n              },\n              __self: this\n            }))), React.createElement(\"div\", {\n              className: 'col-lg-8 col-md-8 col-sm-8 col-xs-8 pl-lg-0',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 364\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: 'row container-fluid',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 365\n              },\n              __self: this\n            }, React.createElement(InputArea, {\n              id: 'descriptionInput',\n              placeholder: 'Description de la fiche\\nFais-en un bref résumé permettant de savoir à quoi s\\'attendre en la lisant',\n              className: 'col-lg-12 col-md-12 col-sm-12 col-xs-12 course-sheet-textarea',\n              textAreaClassName: 'course-sheet-textarea',\n              rows: 6,\n              onChange: this.handleCourseSheetDescriptionChange,\n              disabled: false,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 366\n              },\n              __self: this\n            })), React.createElement(\"div\", {\n              className: 'row container-fluid',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 375\n              },\n              __self: this\n            }, React.createElement(SubmitButton, {\n              text: 'Une nouvelle fiche ? Ajoute-la !',\n              onClick: this.addCourseSheet,\n              className: 'col-sm-12 container-fluid add-coursesheet-button mt-5',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 376\n              },\n              __self: this\n            })))), React.createElement(\"div\", {\n              className: 'row mt-5',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 383\n              },\n              __self: this\n            }, React.createElement(CourseSheets, {\n              id: this.state.id.toString(),\n              courseSheets: this.state.courseSheets,\n              className: 'col-lg-12 col-sm-12 mt-lg-3',\n              activeRemoveButton: true,\n              delete: this.removeCourseSheetFromLobby,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 384\n              },\n              __self: this\n            })));\n            break;\n\n          case 'rights':\n            tab = React.createElement(\"div\", {\n              className: 'container-fluid  col-lg-8 col-md-12 col-sm-12 col-xs-12',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 398\n              },\n              __self: this\n            }, React.createElement(\"h2\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 399\n              },\n              __self: this\n            }, \"Utilisateurs autoris\\xE9s \\xE0 consulter le lobby\"), React.createElement(\"div\", {\n              className: 'row',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 400\n              },\n              __self: this\n            }, React.createElement(Users, {\n              id: this.state.id.toString(),\n              users: this.state.users,\n              className: 'col-lg-12 col-sm-12 mt-lg-3 mt-md-0 mt-sm-0 mt-xs-0',\n              toggleWriteRights: this.toggleWriteRights,\n              delete: this.removeUserFromLobby,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 401\n              },\n              __self: this\n            })), React.createElement(\"div\", {\n              className: 'container col-lg-8 col-md-8 col-sm-10 col-xs-12 mt-5',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 409\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: 'row',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 410\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: 'col-12 add-usr-button',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 411\n              },\n              __self: this\n            }, React.createElement(Input, {\n              id: 'friendInput',\n              inputType: 'email',\n              placeholder: 'Un ami veut voir ton lobby ? Alors saisis son adresse email ici',\n              checked: false,\n              className: 'add-usr-input',\n              onChange: this.handleUserEmailChange,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 412\n              },\n              __self: this\n            }))), React.createElement(\"div\", {\n              className: 'row',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 422\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: 'col-12',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 423\n              },\n              __self: this\n            }, React.createElement(SubmitButton, {\n              text: 'Ca y est ? Alors c\\'est parti, ajoute-le !',\n              onClick: this.addUser,\n              className: 'mt-0 col-12 add-usr-button',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 424\n              },\n              __self: this\n            }))), React.createElement(\"div\", {\n              className: 'row col-10 pt-5',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 431\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: 'col-1 pt-2 pl-0 pr-0',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 432\n              },\n              __self: this\n            }, React.createElement(Input, {\n              id: 'visibilitInput',\n              inputType: 'checkbox',\n              checked: this.props.writeRight,\n              placeholder: '',\n              className: 'user-rights-checkbox',\n              onChange: this.props.toggleWriteRights,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 433\n              },\n              __self: this\n            })), React.createElement(\"h4\", {\n              className: 'col-10 pl-0 pt-1 text-left lobby-write-right-label',\n              onClick: e => console.log(e),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 442\n              },\n              __self: this\n            }, \"Lobby priv\\xE9 (seules les personnes autoris\\xE9es pourront le consulter\"))));\n            break;\n\n          default:\n            tab = React.createElement(\"h2\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 455\n              },\n              __self: this\n            }, \"Informations visibles par les visiteurs\");\n            break;\n        }\n\n        return React.createElement(\"section\", {\n          className: 'content row container-fluid',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 459\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: 'row col col-lg-12 col-md-12 col-sm-12 col-xs-12',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 460\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: 'admin-header',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 461\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 462\n          },\n          __self: this\n        }, this.state.currentLabel), React.createElement(\"nav\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 463\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"nav nav-tabs custom-tab-nav\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 464\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"nav-item\",\n          onClick: this.navigateToCourseSheets,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 465\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"nav-link custom-tab-active custom-tab\",\n          href: 'presentation',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 466\n          },\n          __self: this\n        }, \"Description\")), React.createElement(\"li\", {\n          className: \"nav-item\",\n          onClick: this.navigateToCourseSheets,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 469\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"nav-link custom-tab\",\n          href: 'coursesheets',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 470\n          },\n          __self: this\n        }, \"Fiches\")), React.createElement(\"li\", {\n          className: \"nav-item\",\n          onClick: this.navigateToCourseSheets,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 473\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"nav-link custom-tab\",\n          href: 'rights',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 474\n          },\n          __self: this\n        }, \"Droits\")))))), tab);\n      } else if ('false' === this.state.isAdmin) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 486\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 487\n          },\n          __self: this\n        }, \"Vous n'\\xEAtes pas administrateur de ce lobby\"));\n      } else {\n        return React.createElement(\"div\", {\n          className: 'mt-5',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 491\n          },\n          __self: this\n        }, React.createElement(Loader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 491\n          },\n          __self: this\n        }));\n      }\n    })));\n  }\n\n}\n\nclass SubmitButton extends React.Component {\n  render() {\n    return React.createElement(\"button\", {\n      className: 'btn btn-default btn-transparent rounded-1 ' + this.props.className,\n      onClick: this.props.onClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: 'plus-icon',\n      src: plusIcon,\n      alt: 'Plus Icon',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505\n      },\n      __self: this\n    }), this.props.text);\n  }\n\n}\n\nexport default Admin;","map":{"version":3,"sources":["/usr/src/app/client/src/View/Admin/Admin.tsx"],"names":["React","Request","BrowserRouter","Router","Switch","Route","plusIcon","Input","InputArea","DropBox","CourseSheets","Users","Admin","Component","constructor","props","state","id","location","pathname","split","isAdmin","currentTab","currentLabel","currentDescription","currentLogo","newLabel","newDescription","newLogo","courseSheets","newCourseSheetTitle","newCourseSheetDescription","newCourseSheetDocument","users","newUserEmail","init","bind","checkIfAdmin","handleLabelChange","handleDescriptionChange","handleLogoDrop","handleLogoChange","updateLobbby","update","navigateToCourseSheets","fillCourseSheets","removeCourseSheetFromLobby","removeUserFromLobby","fetchCourseSheets","fetchUsers","refreshPresentation","refreshCourseSheets","handleCourseSheetDocumentDrop","handleCourseSheetDocumentChange","handleCourseSheetTitleChange","handleCourseSheetDescriptionChange","addCourseSheet","refreshUsers","fillUsers","toggleWriteRights","addUser","handleUserEmailChange","componentDidMount","data","undefined","setState","event","target","value","preventDefault","dataTransfer","files","console","log","li","parentElement","children","firstElementChild","className","attributes","href","formData","FormData","append","localStorage","getItem","type","token","includes","removeButton","action","checked","email","render","path","tab","toString","writeRight","e","SubmitButton","onClick","text"],"mappings":"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","sourcesContent":["import React, {ChangeEvent, ReactNode} from 'react';\nimport Request from '../../API/Request';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n} from 'react-router-dom';\nimport {ReactComponent as Loader} from '../../img/loader.svg';\nimport plusIcon from '../../img/plus-icon.png';\nimport Input from '../General/Input';\nimport InputArea from '../General/InputArea';\nimport DropBox from '../General/DropBox';\nimport '../../css/Admin.css';\nimport CourseSheets from '../Lobby/CourseSheets';\nimport Users from './Users';\n\ninterface AdminState {\n    id: number,\n    isAdmin: string,\n    currentTab: string,\n    currentLabel: string,\n    currentDescription: string,\n    currentLogo: File | null,\n    newLabel: string,\n    newDescription: string,\n    newLogo: File | null,\n    courseSheets: [],\n    newCourseSheetTitle: string,\n    newCourseSheetDescription: string,\n    newCourseSheetDocument: File | null,\n    users: [],\n    newUserEmail: string,\n}\n\nclass Admin extends React.Component<any, AdminState> {\n\n    public constructor(props: any) {\n        super(props);\n        this.state = {\n            id: this.props.location.pathname.split(/\\//)[2],\n            isAdmin: '',\n            currentTab: 'presentation',\n            currentLabel: '',\n            currentDescription: '',\n            currentLogo: null,\n            newLabel: '',\n            newDescription: '',\n            newLogo: null,\n            courseSheets: [],\n            newCourseSheetTitle: '',\n            newCourseSheetDescription: '',\n            newCourseSheetDocument: null,\n            users: [],\n            newUserEmail: '',\n        }\n        this.init = this.init.bind(this);\n        this.init();\n    }\n\n    public init(): void {\n        this.checkIfAdmin = this.checkIfAdmin.bind(this);\n        this.handleLabelChange = this.handleLabelChange.bind(this);\n        this.handleDescriptionChange = this.handleDescriptionChange.bind(this);\n        this.handleLogoDrop = this.handleLogoDrop.bind(this);\n        this.handleLogoChange = this.handleLogoChange.bind(this);\n        this.updateLobbby = this.updateLobbby.bind(this);\n        this.update = this.update.bind(this);\n        this.navigateToCourseSheets = this.navigateToCourseSheets.bind(this);\n        this.fillCourseSheets = this.fillCourseSheets.bind(this);\n        this.removeCourseSheetFromLobby = this.removeCourseSheetFromLobby.bind(this);\n        this.removeUserFromLobby = this.removeUserFromLobby.bind(this);\n        this.fetchCourseSheets = this.fetchCourseSheets.bind(this);\n        this.fetchUsers = this.fetchUsers.bind(this);\n        this.refreshPresentation = this.refreshPresentation.bind(this);\n        this.refreshCourseSheets = this.refreshCourseSheets.bind(this);\n        this.handleCourseSheetDocumentDrop = this.handleCourseSheetDocumentDrop.bind(this);\n        this.handleCourseSheetDocumentChange = this.handleCourseSheetDocumentChange.bind(this);\n        this.handleCourseSheetTitleChange = this.handleCourseSheetTitleChange.bind(this);\n        this.handleCourseSheetDescriptionChange = this.handleCourseSheetDescriptionChange.bind(this);\n        this.addCourseSheet = this.addCourseSheet.bind(this);\n        this.refreshUsers = this.refreshUsers.bind(this);\n        this.fillUsers = this.fillUsers.bind(this);\n        this.toggleWriteRights = this.toggleWriteRights.bind(this);\n        this.addUser = this.addUser.bind(this);\n        this.handleUserEmailChange = this.handleUserEmailChange.bind(this);\n    }\n\n    public componentDidMount(): void {\n        this.refreshPresentation();\n        this.refreshCourseSheets();\n        this.refreshUsers();\n    }\n\n    public checkIfAdmin(data: any): void {\n        if (undefined === data['message']) {\n            this.setState({isAdmin: 'true'});\n            this.setState({currentLabel: data[0]['label_lobby']});\n            this.setState({currentDescription: data[0]['description']});\n        } else {\n            this.setState({isAdmin: 'false'});\n        }\n    }\n\n    public fillCourseSheets(data: any): void {\n        if (undefined === data['message']) {\n            this.setState({courseSheets: data});\n        } else {\n            this.setState({courseSheets: []});\n        }\n    }\n\n    public fillUsers(data: any): void {\n        if (undefined === data['message']) {\n            this.setState({users: data});\n        } else {\n            this.setState({users: []});\n        }\n    }\n\n    public handleLabelChange(event: ChangeEvent<HTMLInputElement>): void {\n        this.setState({newLabel: event.target.value});\n    }\n\n    public handleCourseSheetTitleChange(event: ChangeEvent<HTMLInputElement>): void {\n        this.setState({newCourseSheetTitle: event.target.value});\n    }\n\n    public handleDescriptionChange(event: ChangeEvent<HTMLTextAreaElement>): void {\n        this.setState({newDescription: event.target.value});\n    }\n\n    public handleCourseSheetDescriptionChange(event: ChangeEvent<HTMLTextAreaElement>): void {\n        this.setState({newCourseSheetDescription: event.target.value});\n    }\n\n    public handleLogoDrop(event: React.DragEvent<HTMLDivElement>): void {\n        event.preventDefault();\n        this.setState({newLogo: event.dataTransfer.files[0]});\n    }\n\n    public handleLogoChange(event: ChangeEvent<HTMLInputElement>): void {\n        // @ts-ignore\n        this.setState({newLogo: event.target.files[0]});\n    }\n\n    public handleCourseSheetDocumentDrop(event: React.DragEvent<HTMLDivElement>): void {\n        event.preventDefault();\n        this.setState({newCourseSheetDocument: event.dataTransfer.files[0]});\n        console.log(this.state.newCourseSheetDocument);\n    }\n\n    public handleCourseSheetDocumentChange(event: ChangeEvent<HTMLInputElement>): void {\n        // @ts-ignore\n        this.setState({newCourseSheetDocument: event.target.files[0]});\n        console.log(this.state.newCourseSheetDocument);\n    }\n\n    public update(data: any): void {\n        if (undefined !== data['message_label']) {\n            this.setState({currentLabel: this.state.newLabel});\n        }\n        if (undefined !== data['message_description']) {\n            this.setState({currentDescription: this.state.newDescription});\n        }\n        if (undefined !== data['message_logo']) {\n            this.setState({currentLogo: this.state.newLogo});\n        }\n    }\n\n    public navigateToCourseSheets(event: React.MouseEvent<HTMLLIElement, MouseEvent>): void {\n        event.preventDefault();\n        let target: any = event.target;\n        for (let li of target.parentElement.parentElement.children) {\n            li.firstElementChild.className = 'nav-link custom-tab';\n        }\n        target.className = target.className + ' custom-tab-active';\n        this.setState({currentTab: target.attributes.href.value});\n    }\n\n    public updateLobbby(event: React.MouseEvent<HTMLButtonElement, MouseEvent>): void {\n        let formData = new FormData();\n        // @ts-ignore\n        formData.append('token', localStorage.getItem('token'));\n        if ('' !== this.state.newLabel) {\n            formData.append('label', this.state.newLabel);\n        }\n        if ('' !== this.state.newDescription) {\n            formData.append('description', this.state.newDescription);\n        }\n        if (null !== this.state.newLogo) {\n            formData.append('file', this.state.newLogo);\n            new Request('/lobby/update/' + this.state.id, 'POST', this.state.newLogo.type, formData, this.update);\n        } else {\n            new Request('/lobby/update/' + this.state.id, 'POST', '', formData, this.update);\n        }\n    }\n\n    public addCourseSheet(event: React.MouseEvent<HTMLButtonElement, MouseEvent>): void {\n        let formData = new FormData();\n        // @ts-ignore\n        formData.append('token', localStorage.getItem('token'));\n        console.log(this.state.newCourseSheetTitle);\n        console.log(this.state.newCourseSheetDescription);\n        console.log(this.state.newCourseSheetDocument);\n        if (\n            '' !== this.state.newCourseSheetTitle &&\n            '' !== this.state.newCourseSheetDescription &&\n            null !== this.state.newCourseSheetDocument\n        ) {\n            formData.append('title', this.state.newCourseSheetTitle);\n            formData.append('description', this.state.newCourseSheetDescription);\n            formData.append('file', this.state.newCourseSheetDocument);\n            new Request('/lobby/newCourseSheet/' + this.state.id, 'POST', this.state.newCourseSheetDocument.type, formData, this.refreshCourseSheets);\n        }\n    }\n\n    public refreshPresentation(): void {\n        new Request('/lobby/consult/' + this.state.id, 'POST', 'json', {token: localStorage.getItem('token')}, this.checkIfAdmin);\n    }\n\n    public refreshCourseSheets(): void {\n        new Request('/lobby/coursesheets/' + this.state.id, 'POST', 'json', {token: localStorage.getItem('token')}, this.fillCourseSheets);\n    }\n\n    public refreshUsers(): void {\n        new Request('/lobby/users/' + this.state.id, 'POST', 'json', {token: localStorage.getItem('token')}, this.fillUsers);\n    }\n\n    public fetchCourseSheets(data: any): void {\n        if (data['message'].includes('successfully')) {\n            this.refreshCourseSheets();\n        }\n    }\n\n    public fetchUsers(data: any): void {\n        if (data['message'].includes('successfully')) {\n            this.refreshUsers();\n        }\n    }\n\n    public removeCourseSheetFromLobby(event: React.MouseEvent<HTMLImageElement, MouseEvent>): void {\n        let removeButton: any = event.target;\n        new Request('/lobby/deleteCourseSheet/' + this.state.id,\n            'POST',\n            'json',\n            {\n                token: localStorage.getItem('token'),\n                id: removeButton.id.split(/-/)[2]\n            }, this.fetchCourseSheets);\n    }\n\n    public removeUserFromLobby(event: React.MouseEvent<HTMLImageElement, MouseEvent>): void {\n        let removeButton: any = event.target;\n        new Request('/lobby/removeUser/' + this.state.id,\n            'POST',\n            'json',\n            {\n                token: localStorage.getItem('token'),\n                id: removeButton.id.split(/-/)[2]\n            }, this.fetchUsers);\n    }\n\n    public toggleWriteRights(event: React.ChangeEvent<HTMLInputElement>): void {\n        let action: string = true === event.target.checked ?\n            'addWriteRight/' :\n            'removeWriteRight/';\n        new Request('/lobby/' + action + this.state.id,\n            'POST',\n            'json',\n            {\n                token: localStorage.getItem('token'),\n                id: event.target.id,\n            },\n            this.fetchUsers);\n    }\n\n    public addUser(event: React.MouseEvent<HTMLButtonElement, MouseEvent>): void {\n        new Request('/lobby/addUser/' + this.state.id, 'POST', 'json', {\n            token: localStorage.getItem('token'),\n            email: this.state.newUserEmail\n        }, this.refreshUsers);\n    }\n\n    public handleUserEmailChange(event: ChangeEvent<HTMLInputElement>): void {\n        this.setState({newUserEmail: event.target.value});\n    }\n\n    public render(): ReactNode {\n        return (\n            <Router>\n                <Switch>\n                    <Route exact path={this.props.path}>\n                        <h3>Veuillez choisir un lobby</h3>\n                    </Route>\n                    <Route path={this.props.location.pathname}>\n                        {() => {\n                            if ('true' === this.state.isAdmin) {\n                                let tab;\n                                switch (this.state.currentTab) {\n                                    case 'presentation':\n                                        tab = (\n                                            <div className={'container-fluid col-lg-8 col-md-12 col-sm-12 col-xs-12'}>\n                                                <h2>Informations visibles par les visiteurs</h2>\n                                                <Input id={'labelInput'}\n                                                       inputType={'text'}\n                                                       placeholder={'Titre du lobby (n\\'en mets pas un trop long)'}\n                                                       checked={false}\n                                                       className={'mt-5'} onChange={this.handleLabelChange}/>\n                                                <div className={'row mt-5'}>\n                                                    <InputArea id={'descriptionInput'}\n                                                               placeholder={'Nouvelle description du lobby\\nRacontes-y ce que tu veux, du moment que ça reste dans le thème de ton lobby'}\n                                                               className={'col-lg-6 col-md-6 col-sm-6 col-xs-6'}\n                                                               textAreaClassName={''}\n                                                               rows={5}\n                                                               onChange={this.handleDescriptionChange}\n                                                               disabled={false}\n                                                    />\n                                                    <InputArea id={'descriptionInput'}\n                                                               placeholder={'Description actuelle du lobby\\n' + this.state.currentDescription}\n                                                               className={'col-lg-6 col-md-6 col-sm-6 col-xs-6'}\n                                                               textAreaClassName={''}\n                                                               rows={5}\n                                                               onChange={this.handleDescriptionChange}\n                                                               disabled={true}\n                                                    />\n                                                </div>\n                                                <DropBox id={'logoInput'}\n                                                         className={'mt-4'}\n                                                         label={'Glisse un logo par ici !'}\n                                                         accept={'image/*'}\n                                                         backgroundClassName={'mt-4'}\n                                                         handleFileDrop={this.handleLogoDrop}\n                                                         handleFileChange={this.handleLogoChange}/>\n                                                <SubmitButton\n                                                    text={'Mettre à jour le lobby'}\n                                                    onClick={this.updateLobbby}\n                                                    className={'mt-5'}/>\n                                            </div>\n                                        );\n                                        break;\n\n                                    case 'coursesheets':\n                                        tab = (\n                                            <div className={'container-fluid  col-lg-8 col-md-12 col-sm-12 col-xs-12'}>\n                                                <h2>Informations visibles par les visiteurs</h2>\n                                                <div className={'row mt-5'}>\n                                                    <div\n                                                        className={'col-lg-4 col-md-4 col-sm-4 col-xs-4 pr-lg-0 pl-sm-4'}>\n                                                        <div className={'centered-80'}>\n                                                            <Input id={'titleInput'} inputType={'text'}\n                                                                   placeholder={'Titre'}\n                                                                   className={'no-mb'}\n                                                                   checked={false}\n                                                                   onChange={this.handleCourseSheetTitleChange}/>\n                                                            <DropBox id={'courseSheetInput'}\n                                                                     className={'text-sm-left'}\n                                                                     backgroundClassName={'mt-1'}\n                                                                     label={'Glisse une fiche par ici !'}\n                                                                     accept={'.docx,.pdf,.html,.htm,.odp,txt,md'}\n                                                                     handleFileDrop={this.handleCourseSheetDocumentDrop}\n                                                                     handleFileChange={this.handleCourseSheetDocumentChange}/>\n                                                        </div>\n                                                    </div>\n                                                    <div className={'col-lg-8 col-md-8 col-sm-8 col-xs-8 pl-lg-0'}>\n                                                        <div className={'row container-fluid'}>\n                                                            <InputArea id={'descriptionInput'}\n                                                                       placeholder={'Description de la fiche\\nFais-en un bref résumé permettant de savoir à quoi s\\'attendre en la lisant'}\n                                                                       className={'col-lg-12 col-md-12 col-sm-12 col-xs-12 course-sheet-textarea'}\n                                                                       textAreaClassName={'course-sheet-textarea'}\n                                                                       rows={6}\n                                                                       onChange={this.handleCourseSheetDescriptionChange}\n                                                                       disabled={false}\n                                                            />\n                                                        </div>\n                                                        <div className={'row container-fluid'}>\n                                                            <SubmitButton\n                                                                text={'Une nouvelle fiche ? Ajoute-la !'}\n                                                                onClick={this.addCourseSheet}\n                                                                className={'col-sm-12 container-fluid add-coursesheet-button mt-5'}/>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div className={'row mt-5'}>\n                                                    <CourseSheets\n                                                        id={this.state.id.toString()}\n                                                        courseSheets={this.state.courseSheets}\n                                                        className={'col-lg-12 col-sm-12 mt-lg-3'}\n                                                        activeRemoveButton={true}\n                                                        delete={this.removeCourseSheetFromLobby}\n                                                    />\n                                                </div>\n                                            </div>\n                                        );\n                                        break;\n\n                                    case 'rights':\n                                        tab = (\n                                            <div className={'container-fluid  col-lg-8 col-md-12 col-sm-12 col-xs-12'}>\n                                                <h2>Utilisateurs autorisés à consulter le lobby</h2>\n                                                <div className={'row'}>\n                                                    <Users\n                                                        id={this.state.id.toString()}\n                                                        users={this.state.users}\n                                                        className={'col-lg-12 col-sm-12 mt-lg-3 mt-md-0 mt-sm-0 mt-xs-0'}\n                                                        toggleWriteRights={this.toggleWriteRights}\n                                                        delete={this.removeUserFromLobby}\n                                                    />\n                                                </div>\n                                                <div className={'container col-lg-8 col-md-8 col-sm-10 col-xs-12 mt-5'}>\n                                                    <div className={'row'}>\n                                                        <div className={'col-12 add-usr-button'}>\n                                                            <Input\n                                                                id={'friendInput'}\n                                                                inputType={'email'}\n                                                                placeholder={'Un ami veut voir ton lobby ? Alors saisis son adresse email ici'}\n                                                                checked={false}\n                                                                className={'add-usr-input'}\n                                                                onChange={this.handleUserEmailChange}\n                                                            />\n                                                        </div>\n                                                    </div>\n                                                    <div className={'row'}>\n                                                        <div className={'col-12'}>\n                                                            <SubmitButton\n                                                                text={'Ca y est ? Alors c\\'est parti, ajoute-le !'}\n                                                                onClick={this.addUser}\n                                                                className={'mt-0 col-12 add-usr-button'}\n                                                            />\n                                                        </div>\n                                                    </div>\n                                                    <div className={'row col-10 pt-5'}>\n                                                        <div className={'col-1 pt-2 pl-0 pr-0'}>\n                                                            <Input\n                                                                id={'visibilitInput'}\n                                                                inputType={'checkbox'}\n                                                                checked={this.props.writeRight}\n                                                                placeholder={''}\n                                                                className={'user-rights-checkbox'}\n                                                                onChange={this.props.toggleWriteRights}\n                                                            />\n                                                        </div>\n                                                        <h4\n                                                            className={'col-10 pl-0 pt-1 text-left lobby-write-right-label'}\n                                                            onClick={e => console.log(e)}\n                                                        >\n                                                            Lobby privé (seules les personnes autorisées pourront le consulter\n                                                        </h4>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        );\n                                        break;\n\n                                    default:\n                                        tab = <h2>Informations visibles par les visiteurs</h2>\n                                        break;\n                                }\n                                return (\n                                    <section className={'content row container-fluid'}>\n                                        <div className={'row col col-lg-12 col-md-12 col-sm-12 col-xs-12'}>\n                                            <div className={'admin-header'}>\n                                                <h1>{this.state.currentLabel}</h1>\n                                                <nav>\n                                                    <ul className=\"nav nav-tabs custom-tab-nav\">\n                                                        <li className=\"nav-item\" onClick={this.navigateToCourseSheets}>\n                                                            <a className=\"nav-link custom-tab-active custom-tab\"\n                                                               href={'presentation'}>Description</a>\n                                                        </li>\n                                                        <li className=\"nav-item\" onClick={this.navigateToCourseSheets}>\n                                                            <a className=\"nav-link custom-tab\"\n                                                               href={'coursesheets'}>Fiches</a>\n                                                        </li>\n                                                        <li className=\"nav-item\" onClick={this.navigateToCourseSheets}>\n                                                            <a className=\"nav-link custom-tab\"\n                                                               href={'rights'}>Droits</a>\n                                                        </li>\n                                                    </ul>\n                                                </nav>\n                                            </div>\n                                        </div>\n                                        {tab}\n                                    </section>\n                                );\n                            } else if ('false' === this.state.isAdmin) {\n                                return (\n                                    <div>\n                                        <h1>Vous n'êtes pas administrateur de ce lobby</h1>\n                                    </div>\n                                );\n                            } else {\n                                return <div className={'mt-5'}><Loader/></div>\n                            }\n                        }}\n                    </Route>\n                </Switch>\n            </Router>\n        );\n    }\n}\n\nclass SubmitButton extends React.Component<{ text: string, onClick: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void, className: string }, {}> {\n    public render() {\n        return (\n            <button className={'btn btn-default btn-transparent rounded-1 ' + this.props.className}\n                    onClick={this.props.onClick}><img className={'plus-icon'} src={plusIcon}\n                                                      alt={'Plus Icon'}/>{this.props.text}\n            </button>\n        )\n    }\n}\n\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}