{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/client/src/View/Pages/CourseSheetPage.tsx\";\nimport React from \"react\";\nimport Request from \"../../API/Request\";\nimport { Document, Page, pdfjs } from \"react-pdf\";\n\nclass CourseSheetPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: null\n    };\n    this.getFile = this.getFile.bind(this);\n    this.openFile = this.openFile.bind(this);\n    this.onDocumentLoadSuccess = this.onDocumentLoadSuccess.bind(this);\n  }\n\n  componentDidMount() {\n    this.getFile();\n  }\n\n  getFile() {\n    new Request('/lobby/coursesheet/' + this.props.id, this.openFile, 'POST', {\n      path: this.props.link\n    }, 'json', 'blob');\n  }\n\n  openFile(data) {\n    this.setState({\n      file: data\n    }, () => pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`);\n  }\n\n  onDocumentLoadSuccess() {}\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Fiche de cours \", this.props.location.pathname.split(/\\//)[2], React.createElement(\"div\", {\n      className: 'mt-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Document, {\n      file: this.state.file,\n      onLoadSuccess: this.onDocumentLoadSuccess,\n      noData: React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Glisse un fichier\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Page, {\n      height: 155,\n      scale: 1,\n      pageNumber: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default CourseSheetPage;","map":{"version":3,"sources":["/usr/src/app/client/src/View/Pages/CourseSheetPage.tsx"],"names":["React","Request","Document","Page","pdfjs","CourseSheetPage","Component","constructor","props","state","file","getFile","bind","openFile","onDocumentLoadSuccess","componentDidMount","id","path","link","data","setState","GlobalWorkerOptions","workerSrc","version","render","location","pathname","split"],"mappings":";AAAA,OAAOA,KAAP,MAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,SAAQC,QAAR,EAAkBC,IAAlB,EAAwBC,KAAxB,QAAoC,WAApC;;AAQA,MAAMC,eAAN,SAA8BL,KAAK,CAACM,SAApC,CAAyF;AAE9EC,EAAAA,WAAP,CAAmBC,KAAnB,EAAgD;AAC5C,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE;AADG,KAAb;AAGA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAf;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKE,qBAAL,GAA6B,KAAKA,qBAAL,CAA2BF,IAA3B,CAAgC,IAAhC,CAA7B;AACH;;AAEMG,EAAAA,iBAAP,GAAiC;AAC7B,SAAKJ,OAAL;AACH;;AAEMA,EAAAA,OAAP,GAAuB;AACnB,QAAIV,OAAJ,CACI,wBAAwB,KAAKO,KAAL,CAAWQ,EADvC,EAEI,KAAKH,QAFT,EAGI,MAHJ,EAII;AACII,MAAAA,IAAI,EAAE,KAAKT,KAAL,CAAWU;AADrB,KAJJ,EAOI,MAPJ,EAQI,MARJ;AAUH;;AAEML,EAAAA,QAAP,CAAgBM,IAAhB,EAAiC;AAC7B,SAAKC,QAAL,CACI;AAACV,MAAAA,IAAI,EAAES;AAAP,KADJ,EAEI,MAAMf,KAAK,CAACiB,mBAAN,CAA0BC,SAA1B,GAAuC,2CAA0ClB,KAAK,CAACmB,OAAQ,gBAFzG;AAIH;;AAEMT,EAAAA,qBAAP,GAAqC,CAEpC;;AAEMU,EAAAA,MAAP,GAA2B;AACvB,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACoB,KAAKhB,KAAL,CAAWiB,QAAX,CAAoBC,QAApB,CAA6BC,KAA7B,CAAmC,IAAnC,EAAyC,CAAzC,CADpB,EAEI;AAAK,MAAA,SAAS,EAAE,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,QAAD;AACI,MAAA,IAAI,EAAE,KAAKlB,KAAL,CAAWC,IADrB;AAEI,MAAA,aAAa,EAAE,KAAKI,qBAFxB;AAGI,MAAA,MAAM,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKI,oBAAC,IAAD;AAAM,MAAA,MAAM,EAAE,GAAd;AAAmB,MAAA,KAAK,EAAE,CAA1B;AAA6B,MAAA,UAAU,EAAE,CAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CADJ,CAFJ,CADJ;AAcH;;AAvDoF;;AA0DzF,eAAeT,eAAf","sourcesContent":["import React, {ReactNode} from \"react\";\nimport Request from \"../../API/Request\";\nimport {Document, Page, pdfjs} from \"react-pdf\";\n\ninterface CourseSheetPageProps {\n    id: number,\n    location: any,\n    link: string,\n}\n\nclass CourseSheetPage extends React.Component<CourseSheetPageProps, {file: File | null}> {\n\n    public constructor(props: CourseSheetPageProps) {\n        super(props);\n        this.state = {\n            file: null,\n        }\n        this.getFile = this.getFile.bind(this);\n        this.openFile = this.openFile.bind(this);\n        this.onDocumentLoadSuccess = this.onDocumentLoadSuccess.bind(this);\n    }\n\n    public componentDidMount(): void {\n        this.getFile();\n    }\n\n    public getFile(): void {\n        new Request(\n            '/lobby/coursesheet/' + this.props.id,\n            this.openFile,\n            'POST',\n            {\n                path: this.props.link\n            },\n            'json',\n            'blob',\n        );\n    }\n\n    public openFile(data: any): void {\n        this.setState(\n            {file: data},\n            () => pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`\n        );\n    }\n\n    public onDocumentLoadSuccess(): void {\n\n    }\n\n    public render(): ReactNode {\n        return (\n            <div>\n                Fiche de cours {this.props.location.pathname.split(/\\//)[2]}\n                <div className={'mt-0'}>\n                    <Document\n                        file={this.state.file}\n                        onLoadSuccess={this.onDocumentLoadSuccess}\n                        noData={<h4>Glisse un fichier</h4>}\n                    >\n                        <Page height={155} scale={1} pageNumber={1}/>\n                    </Document>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default CourseSheetPage;\n"]},"metadata":{},"sourceType":"module"}